<!doctype html>
<html lang="en">

	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" type="text/css" href="./assets/lib/bootstrap-4.6.0/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="assets/lib/Validform/css/style.css" />
		<link rel="stylesheet" type="text/css" href="./assets/css/style.css" />
		<title>登录</title>
	</head>

	<body>
		<div class="bg">
			<div class="container">
				<div class="card form-panel bg-primary">
					<div class="card-header text-white">
						登录
					</div>
					<div class="card-body bg-white">
						<form class="form" method="post" action="/admin/login">
							<div class="form-group row">
								<label class="col-sm-2 col-form-label">账户</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="username" datatype="*3-30"
										errormsg="请输入3-30位字符的账户名" placeholder="请输入登录用户名">
								</div>
							</div>
							<div class="form-group row">
								<label class="col-sm-2 col-form-label">密码</label>
								<div class="col-sm-10">
									<input type="password" class="form-control" name="password" datatype="n3-15"
										errormsg="请输入3-15位数字的密码" placeholder="请输入登录密码">
								</div>
							</div>
							<button type="submit" class="btn btn-primary btn-block">登录</button>
						</form>
					</div>
					<div class="card-footer bg-white d-flex justify-content-between">
						<a href="register.html">注册账户</a>
						<a href="#">忘记密码？</a>
					</div>
				</div>
			</div>
		</div>
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="./assets/lib/jQuery/jquery-3.6.0.min.js"></script>
		<script src="./assets/lib/bootstrap-4.6.0/js/bootstrap.min.js"></script>
		<script src="./assets/lib/Validform/js/Validform_v5.3.2_min.js"></script>
		<script src="./assets/lib/layer/layer.js"></script>
		<script>
			$('.form').Validform({
				ajaxPost: true,
				tiptype: 4,
				callback: function(res) {
					if (res.status) {
						// 缓存响应数据
						sessionStorage.id = res.data.id;
						sessionStorage.role = res.data.role;
						sessionStorage.token = res.data.token;
						// 登录成功,跳转页面
						location.href = './article-list.html';
					} else {
						// 登录失败
						layer.msg(res.msg);
					}
				}
			});
		</script>
	</body>

</html>
